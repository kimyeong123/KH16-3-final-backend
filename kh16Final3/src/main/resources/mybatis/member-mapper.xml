<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="member">

    <!-- 회원가입 -->
    <insert id="insert" parameterType="com.kh.final3.dto.MemberDto">
        insert into member (
            member_no,
            member_id,
            member_pw,
            member_nickname,
            member_name,
            member_email,
            member_birth,
            member_contact,
            member_post,
            member_address1,
            member_address2,
            member_level,
            member_point,
            member_created_time
        ) values (
            member_seq.nextval,
            #{memberId},
            #{memberPw},
            #{memberNickname},
            #{memberName},
            #{memberEmail},
            #{memberBirth},
            #{memberContact},
            #{memberPost},
            #{memberAddress1},
            #{memberAddress2},
            #{memberLevel},
            #{memberPoint},
            SYSTIMESTAMP
        )
    </insert>

    <!-- 아이디로 회원 조회 -->
    <select id="detailByMemberId" parameterType="String" resultType="com.kh.final3.dto.MemberDto">
        select * from member where member_id = #{memberId}
    </select>

    <!-- 닉네임으로 회원 조회 -->
    <select id="detailByMemberNickname" parameterType="String" resultType="com.kh.final3.dto.MemberDto">
        select * from member where member_nickname = #{memberNickname}
    </select>
    
    <select id="findNicknameByMemberNo" parameterType="long" resultType="String">
    	select member_nickname from member where member_no = #{memberNo}
	</select>

</mapper>
